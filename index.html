ai-platform/
│
├── backend/
│   ├── server.js
│   ├── routes/
│   │   ├── auth.js
│   │   ├── ai.js
│   │   ├── subscription.js
│   ├── middleware/
│   │   ├── authMiddleware.js
│   └── models/
│       └── User.js
│
├── frontend/
│   ├── pages/
│   ├── components/
│   └── dashboard/
import express from "express";
import cors from "cors";
import dotenv from "dotenv";

dotenv.config();
const app = express();

app.use(cors());
app.use(express.json());

app.use("/api/ai", require("./routes/ai"));
app.use("/api/auth", require("./routes/auth"));
app.use("/api/subscription", require("./routes/subscription"));

app.listen(5000, () => {
  console.log("Server running on port 5000");
});
import OpenAI from "openai";

const openai = new OpenAI({
  apiKey: process.env.OPENAI_KEY,
});

export async function chatAI(prompt) {
  const response = await openai.chat.completions.create({
    model: "gpt-4.1",
    messages: [
      { role: "system", content: "أنت مساعد ذكي محترف" },
      { role: "user", content: prompt },
    ],
  });

  return response.choices[0].message.content;
}
const image = await openai.images.generate({
  model: "gpt-image-1",
  prompt: "طبيب ذكاء اصطناعي في عيادة مستقبلية",
  size: "1024x1024",
});

res.json({ image: image.data[0].url });
import fs from "fs";
import path from "path";

const speech = await openai.audio.speech.create({
  model: "gpt-4o-mini-tts",
  voice: "alloy",
  input: "مرحباً، أنا مساعدك الذكي",
});

fs.writeFileSync("voice.mp3", Buffer.from(await speech.arrayBuffer()));
POST https://api.runwayml.com/v1/generate
Authorization: Bearer YOUR_KEY
{
  "prompt": "طبيب ذكاء اصطناعي يشرح العلاج"
} 
POST https://api.runwayml.com/v1/generate
Authorization: Bearer YOUR_KEY
{
 system: `
أنت مساعد طبي ذكي.
لا تقدم تشخيص نهائي.
دائمًا اطلب مراجعة طبيب بشري.
`
import Stripe from "stripe";
const stripe = new Stripe(process.env.STRIPE_KEY);

const session = await stripe.checkout.sessions.create({
  mode: "subscription",
  line_items: [{
    price: "price_xxx",
    quantity: 1,
  }],
  success_url: "https://yoursite.com/success",
  cancel_url: "https://yoursite.com/cancel",
});
if (!user.isPremium) {
  return res.status(403).json({ message: "الاشتراك مطلوب" });
}
